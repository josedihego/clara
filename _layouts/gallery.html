---
layout: default
---

{% assign album = site.data.gallery.albums | where: "name", page.title | first %}

{% if album and page.subalbum == nil %}
<div class="gallery">
  {% for sub in album.subalbums %}
  {% assign sub_slug = sub.name | downcase | replace: ' ', '-' %}
  {% assign sub_album = album.name | downcase | replace: ' ', '-' %}
  {% assign img_url = '/assets/drawings/' | append: sub.images[0].file | relative_url %}

  <a href="{{ '/albums/' 
               | append: sub_album
               | append: '/' 
              | append: sub_slug 
              | relative_url }}" data-lightbox="{{ group }}" class="album-card" data-title="{{ sub.name | escape }}">
    <img img src="{{ img_url }}" alt="{{ album.name | escape }}" loading="lazy">
    <h3>{{ sub.name | escape }}</h3>
  </a>

  {% endfor %}
</div>
{% endif %}


{% if album and page.subalbum %}
{% assign subalbum = album.subalbums | where: "name", page.subalbum | first %}

{% assign group = album.name | slugify | append: '-' | append: subalbum.name | slugify %}

<h2>{{ subalbum.name }}</h2>

<div class="gallery">
  {% for img in subalbum.images %}
  {% assign img_url = '/assets/drawings/' | append: img.file | relative_url %}
  <a href="{{ img_url }}" data-lightbox="{{ group }}" data-title="{{ img.title | escape }}">
    <img src="{{ img_url }}" alt="{{ img.title | escape }}" loading="lazy">
  </a>
  {% endfor %}
</div>

{% endif %}


<script>
  // safe config (only if lightbox exists)
  if (typeof lightbox !== 'undefined') {
    lightbox.option({
      'resizeDuration': 200,
      'wrapAround': true,
      'fadeDuration': 200,
      'imageFadeDuration': 200,
      'albumLabel': "Image %1 of %2"
    });
  } else {
    console.warn('Lightbox not loaded â€” check console/network.');
  }
</script>


<style>
  .gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 1rem;
  }

  .gallery img {
    width: 100%;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
    display: block;
    transition: transform .12s ease;
  }

  .gallery img:hover {
    transform: translateY(-4px);
  }

  .lb-share {
  position: absolute;
  top: 10px;
  right: 55px; /* moved further left to accommodate larger size */
  font-size: 24px; /* reduced from 40px for better proportion */
  text-decoration: none;
  color: white;
  background: rgba(0,0,0,0.5);
  border-radius: 50%;
  padding: 12px 14px; /* increased from 6px 8px */
  cursor: pointer;
  z-index: 9999;
  display: inline-flex; /* better centering for the icon */
  align-items: center;
  justify-content: center;
  min-width: 48px; /* ensures minimum touch target size */
  min-height: 48px;
}

.lb-share:hover {
  background: rgba(0,0,0,0.8);
  transform: scale(1.05); /* subtle hover effect */
}

  @media (max-width:900px) {
    .gallery {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width:600px) {
    .gallery {
      grid-template-columns: 1fr;
    }
  }
</style>