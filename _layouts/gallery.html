---
layout: default
---

{% assign album = site.data.gallery.albums | where: "name", page.title | first %}

{% if album and page.subalbum == nil %}
<div class="gallery">
  {% for sub in album.subalbums %}
  {% assign sub_slug = sub.name | downcase | replace: ' ', '-' %}
  {% assign sub_album = album.name | downcase | replace: ' ', '-' %}
  {% assign img_url = '/assets/drawings/' | append: sub.images[0].file | relative_url %}

  <a href="{{ '/albums/' 
               | append: sub_album
               | append: '/' 
              | append: sub_slug 
              | relative_url }}" data-lightbox="{{ group }}" class="album-card" data-title="{{ sub.name | escape }}">
    <img img src="{{ img_url }}" alt="{{ album.name | escape }}" loading="lazy">
    <h3>{{ sub.name | escape }}</h3>
  </a>

  {% endfor %}
</div>
{% endif %}


{% if album and page.subalbum %}
{% assign subalbum = album.subalbums | where: "name", page.subalbum | first %}

{% assign group = album.name | slugify | append: '-' | append: subalbum.name | slugify %}

<h2>{{ subalbum.name }}</h2>

<div class="gallery">
  {% for img in subalbum.images %}
  {% assign img_url = '/assets/drawings/' | append: img.file | relative_url %}
  <a href="{{ img_url }}" data-lightbox="{{ group }}" data-title="{{ img.title | escape }}">
    <img src="{{ img_url }}" alt="{{ img.title | escape }}" loading="lazy">
  </a>
  {% endfor %}
</div>

{% endif %}


<script>
  // safe config (only if lightbox exists)
  if (typeof lightbox !== 'undefined') {
    lightbox.option({
      'resizeDuration': 200,
      'wrapAround': true,
      'fadeDuration': 200,
      'imageFadeDuration': 200,
      'albumLabel': "Image %1 of %2"
    });
  } else {
    console.warn('Lightbox not loaded â€” check console/network.');
  }
</script>


<style>
  .gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 1rem;
  }

  .gallery img {
    width: 100%;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
    display: block;
    transition: transform .12s ease;
  }

  .gallery img:hover {
    transform: translateY(-4px);
  }

  /* Add this to your layout file's <style> section */

.lb-share {
  position: absolute !important;
  top: 10px !important;
  right: 55px !important;
  background: rgba(255, 255, 255, 0.3) !important; /* Transparent white */
  border: 2px solid rgba(255, 255, 255, 0.6) !important; /* White border */
  border-radius: 50% !important;
  padding: 12px !important;
  cursor: pointer !important;
  z-index: 9999 !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  min-width: 48px !important;
  min-height: 48px !important;
  text-decoration: none !important;
  color: white !important;
  transition: all 0.2s ease !important;
}

.lb-share:hover {
  background: rgba(255, 255, 255, 0.5) !important; /* More opaque white on hover */
  border-color: rgba(255, 255, 255, 0.8) !important;
  transform: scale(1.05) !important;
}

.lb-share svg {
  pointer-events: none !important;
  display: block !important;
  stroke: white !important; /* Ensure icon is white */
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .lb-share {
    top: 15px !important;
    right: 60px !important;
    padding: 10px !important;
    min-width: 44px !important;
    min-height: 44px !important;
    background: rgba(255, 255, 255, 0.4) !important; /* Slightly more opaque on mobile */
    touch-action: manipulation !important;
    -webkit-tap-highlight-color: transparent !important;
  }

  .lb-share svg {
    width: 20px !important;
    height: 20px !important;
  }
}

@media (max-width: 480px) {
  .lb-share {
    top: 20px !important;
    right: 65px !important;
    padding: 12px !important;
    min-width: 48px !important;
    min-height: 48px !important;
    background: rgba(255, 255, 255, 0.5) !important; /* Even more visible on small screens */
  }
}
  @media (max-width:900px) {
    .gallery {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width:600px) {
    .gallery {
      grid-template-columns: 1fr;
    }
  }
</style>